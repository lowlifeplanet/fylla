_<%= @executable_name %><%= context_name %> ()
{
  local cur="${COMP_WORDS[COMP_CWORD]}"
  local options=()
  <%- command.options.each do |opt| -%>
    options+=("--<%= opt.name %>")
    <%- opt.aliases.each do |a| -%>
    options+=("-<%= a %>")
    <%- end -%>
  <%- end -%>
  options+=("--help")
  options+=("-h")
  COMPREPLY=($(compgen -W "${options[*]}" -- "$cur"))
}
